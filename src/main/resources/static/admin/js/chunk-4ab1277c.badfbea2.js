(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ab1277c"],{"2c2e":function(t,e,a){},4224:function(t,e,a){"use strict";var o=a("2c2e"),i=a.n(o);i.a},"91e8":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",{staticStyle:{"margin-top":"10px","font-size":"14px","line-height":"30px","margin-bottom":"15px"}},[a("el-row",{staticStyle:{"font-weight":"800"}},[t._v("\n            操作提示：\n        ")]),t._v(" "),a("el-row",[t._v("\n            1、这里可以创建一个个权限分组，每个权限分组包含若干个操作权限。\n        ")]),t._v(" "),a("el-row",[t._v("\n            2、然后，在“角色管理”中给角色增加某个“权限组”，这个角色就有了这部分权限。\n        ")])],1),t._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:t.handleCreate}},[t._v("创建")])],1),t._v(" "),a("el-card",{staticStyle:{"margin-top":"10px"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%","min-height":"300px","margin-bottom":"20px"},attrs:{data:t.tableData,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{label:"权限组名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.groupName))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"groupRemark",label:"备注"}}),t._v(" "),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"form",attrs:{"label-position":"top",model:t.form,"label-width":"80px","status-icon":""}},[a("el-form-item",{attrs:{label:"权限组名称"}},[a("el-input",{model:{value:t.form.groupName,callback:function(e){t.$set(t.form,"groupName",e)},expression:"form.groupName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:t.form.groupRemark,callback:function(e){t.$set(t.form,"groupRemark",e)},expression:"form.groupRemark"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"操作权限"}},[[a("el-transfer",{attrs:{data:t.aclActionData,titles:["全部操作权限","拥有操作权限"]},model:{value:t.aclActionValue,callback:function(e){t.aclActionValue=e},expression:"aclActionValue"}})]],2)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handPostData()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"",visible:t.dialogVisibleCreate,width:"50%"},on:{"update:visible":function(e){t.dialogVisibleCreate=e}}},[a("el-form",{ref:"form",attrs:{"label-position":"top",model:t.form,"label-width":"80px","status-icon":""}},[a("el-form-item",{attrs:{label:"权限组名称"}},[a("el-input",{model:{value:t.form.groupName,callback:function(e){t.$set(t.form,"groupName",e)},expression:"form.groupName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:t.form.groupRemark,callback:function(e){t.$set(t.form,"groupRemark",e)},expression:"form.groupRemark"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"操作权限"}},[[a("el-transfer",{attrs:{data:t.aclActionData,titles:["全部权限组","拥有权限组"]},model:{value:t.aclActionValue,callback:function(e){t.aclActionValue=e},expression:"aclActionValue"}})]],2)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisibleCreate=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handPostDataCreate()}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisibleConfirmDelete,width:"30%"},on:{"update:visible":function(e){t.dialogVisibleConfirmDelete=e}}},[a("span",[t._v("确定删除该权限组："+t._s(t.prepareDeleteGroupName))]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisibleConfirmDelete=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handPostDataDelete()}}},[t._v("确 定")])],1)])],1)},i=[],l=a("5c96"),r={data:function(){return{dialogVisibleConfirmDelete:!1,dialogVisibleCreate:!1,dialogVisible:!1,isCreate:!1,form:{groupId:1,groupName:"",groupRemark:""},aclActionData:[],aclActionValue:[],prepareDeleteGroupId:null,prepareDeleteGroupName:null}},computed:{tableData:function(){return this.$store.state.acl.groupList}},created:function(){this.load()},methods:{load:function(){this.$store.dispatch("acl/getGroupList"),this.$store.dispatch("acl/getActionList")},handleCreate:function(){var t=this;this.dialogVisibleCreate=!0,this.form.groupId=null,this.form.groupName="",this.form.groupRemark="";for(var e=this.$store.state.acl.actionList,a=[],o=[],i=0;i<e.length;i++){var l=e[i],r=l.id;a.push({key:r,label:l.actionName,disabled:!1})}t.aclActionData=a,t.aclActionValue=o},handleDelete:function(t,e){this.prepareDeleteGroupId=e.id,this.prepareDeleteGroupName=e.groupName,this.dialogVisibleConfirmDelete=!0},handleEdit:function(t,e){var a=this,o=this;this.form.groupName=e.groupName,this.form.groupRemark=e.groupRemark,this.form.groupId=e.id,this.$store.dispatch("acl/groupDetail",{group_id:this.form.groupId}).then((function(t){for(var e=a.$store.state.acl.groupDetail,i=[],l=[],r=e.listGroupActionDetail,s=0;s<r.length;s++){var n=r[s],c=n.actionId;i.push({key:c,label:n.actionName,disabled:!1}),n.selected&&l.push(c)}o.aclActionData=i,o.aclActionValue=l,o.dialogVisible=!0}))},handPostData:function(){var t=this;this.$store.dispatch("acl/groupDetailUpdate",{group_id:this.form.groupId,group_name:this.form.groupName,group_remark:this.form.groupRemark,group_action_list:JSON.stringify(this.aclActionValue)}).then((function(e){t.dialogVisible=!1,Object(l["Message"])({message:"修改完成",type:"success",duration:5e3}),t.load()}))},handPostDataCreate:function(){var t=this;this.$store.dispatch("acl/groupAdd",{group_name:this.form.groupName,group_remark:this.form.groupRemark,group_action_list:JSON.stringify(this.aclActionValue)}).then((function(e){t.dialogVisible=!1,Object(l["Message"])({message:"添加完成",type:"success",duration:5e3}),t.dialogVisibleCreate=!1,t.load()}))},handPostDataDelete:function(){var t=this;this.$store.dispatch("acl/groupDelete",{group_id:this.prepareDeleteGroupId}).then((function(e){t.dialogVisible=!1,Object(l["Message"])({message:"完成",type:"success",duration:5e3}),t.dialogVisibleConfirmDelete=!1,t.load()}))}}},s=r,n=(a("4224"),a("2877")),c=Object(n["a"])(s,o,i,!1,null,"a9538366",null);e["default"]=c.exports}}]);